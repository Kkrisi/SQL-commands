SHOW databases;
CREATE DATABASE IF NOT EXISTS "adatbázisnév";
USE "adatbázis neve";                           pl: use sargabt;
CREATE TABLE "alkatrészek";
SHOW tables,
SELECT * FROM "tábla neve";                     pl: select * from ugyfelek;


CREATE USER "felhasználónév@számítógépnév" IDENTIFIED BY 'jelszó';          pl: create user kristof@mycomputer identified by 'cisco'
SET PASSWORD FOR "felhasználónév@számítógépnév" = PASSWORD ('jelszó');      pl: set password for kristof@mycomputer = password ('cisco2.0')
FLUSH PRIVILEGES;                                                           jelszó változtatásnál ezzel kell frissíteni


SHOW GRANTS;                                                                                   összes jogosultság megnézése
GRANT "jogosultság" ON "táblanév" TO "felhasználónév@számítógépnév" IDENTIFIED BY 'jelszó';    pl: grant select on esernyők to phpfelhasználó@localhost identified by 'A41!14a!';
FLUSH PRIVILEGES;


REVOKE "jogosultság" ON "táblanév" FROM "felhasználónév@számítógépnév";      pl: REVOKE alter ON esernyők FROM janos123@janoshost;
REVOKE all ON *.* FROM "felhasználónév@számítógépnév";                      pl: REVOKE all ON *.* FROM vector@vectorcomputer;       minden jogosultsag visszavonása egy fióktól;
DROP USER "felhasználónév@számítógépnév";                                    pl: DROP USER lajos123@lajoskingdom;       fiók törlése
DROP DATABASE "adatbázisnév";                                                adatbázis törlése


EXPLAIN "táblanév";         pl: explain "user";         tábla felépítését láthatjuk
DROP TABLE "táblanév";      pl: drop table "user";


ADD "oszlopnév" "definíció";                  új oszlopot szúr be, a definíció tartalmazza az adattípust és a lehetséges definíciókat is
ALTER "oszlopnév" SET DEFAULT "érték";        módosítja egy oszlop alapértelmezett értékét
ALTER "oszlopnév" DROP DEFAULT;               eltávolítja egy oszlop alapértelmezett értékét



















create database pata;
use pata;

create table kerekparok (
	az int not null primary key auto_increment,
	szin varchar(50),
	marka varchar(50),
	ar double,
	kategoriaId int
);

creat table kategoriak (
	az int not null primary key auto_increment,
	nev varchar(50)
);

insert into kategoriak
(nev)
values
('városi'),
('országúti'),
('gyerek'),
('elektromos'),
('trekking');

insert into kerekparok
(szin, marka, ar, kategoriaId)
values
('fehér', 'Csepel', 178900, 5),
('szürke', 'Neuzer', 172900, 5),
('fehér', 'KTM', 256850, 5);



Táblák összekapcsolása

select szin, marka, ar, nev
from kerekparok inner join kategoriak

select * from kategoriak;



select szin, marka, ar, nev
from kerekparok inner join kategoriak
on kerekparok.kategoriaId = kategoriak.az;



select kerekparok.az, szin, marka, ar, nev
from kerekparok inner join kategoriak
on kerekparok.kategoriaId = kategoriak.az;


update kerekparok
set ar = 560900
where az = 2; 






vasarlasok=(az, kerekparAz, ugyfelAz, datum)
ugyfelek=(az, nev)


mysqldump pata > pata.sqly
apt install smbclient







2022-02-28
Linuxon:
apt update
apt install mariadb-server
mysql
mysql zoldzrt < /home...zoldzrt.sql      belerakjuk a zoldzrt adatbazisba a swl fajlt
collate utf8_hunagrian_ci; 			magyar sorrendbe állítja az abc-t 

winSCP.exe         winSCP segítségével töltünk fel fájlokat linuxra, windowsos gépekről
ER-modell, 2 táblás lekérdezés











-- Kádár Kristóf, 2022-02-28
-- Beszúrás a zöld zrt adatbázisába

insert into szemelyek
(nev, fizetes, telepules, jutalom, lakcim, beosztasAz)
values
("Lakos Kázmér", 2830000, "Miskolc", 800000, "Pata u. 18.", 2);






insert into beosztasok
(nev, leiras)
values
("kacsász", "");

update szemelyek
set
nev="Gipsz Jakab",
anyja_neve="Purhab Mária",
telepules="Bugyi",
lakcim="Cég utca 12",
fizetes=2121000,
szuletes="1996-03-12",
jutalom=500,
beosztasAz=6
where az=13112;












Reláció sémák:

szemelyek(az, nev, anyja_neve, telepules,
 lakcim, fizetes, szuletes, jutalom, beosztasAz)
beosztasok(az, nev, leiras)

Kódba:

create table beosztasok(
 az int not null primary key auto_increment,
 nev varchar(50),
 leiras text
 );



Két táblás gyakorlás:

--Jelenítsük meg a móri dolgozók nevét és beosztását.

select szemelyek.nev, beosztasok.nev
from szemelyek inner join beosztasok
on szemelyek.beosztasAz = beosztasok.az
where telepules="Mór";
















Unique

create database kontjarmu
character set utf8
collate utf8_hungarian_ci;

use kontjarmu;

create table jarmuvek (
	az int not null primary key,
	rendszam varchar(10) unique,
	marka varchar(50)
	);

insert into jarmuvek
(az, rendszam, marka)
values
(1, "ABC-123", "Opel");


insert into jarmuvek
(az, rendszam, marka)
values
(2, "ABC-123", "Opel");
